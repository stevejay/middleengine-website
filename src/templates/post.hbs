<!DOCTYPE html>
<html lang="en">

{{> head description=summary issueNumber=issueNumber }}

<body class="blog">
    {{> header }}
    <main>
        <article>
            <header class="basic-hero">
                <div class="hero-text-wrap">
                    <h1>{{title}}</h1>
                    <div class="byline">
                        By&nbsp;
                        <address class="author"><a rel="author" href="{{author.url}}">{{author.name}}</a>
                        </address>
                        <time pubdate datetime="{{date}}"
                            title="{{formatDate date "short"}}">{{formatDate date "short"}}</time>
                    </div>
                </div>
            </header>
            <div class="article-body">
                {{{content}}}
                {{#if issueNumber}}
                <section>
                    <h2 id="comments"><a class="header-anchor" href="#changelog">#</a> Comments</h2>
                    <div id="comments-list"></div>
                </section>
                {{/if}}
            </div>
        </article>
    </main>
    {{> footer }}
    {{#if issueNumber}}
    <script>
        var issueNumberMetaTag = document.querySelector(
            'meta[itemprop="issueNumber"]'
        );
        var issueNumber = parseInt(
            issueNumberMetaTag.getAttribute("content") || null
        );
        Octomments({
            github: {
                owner: "stevejay",
                repo: "middleengine-website",
            },
            issueNumber,
            renderer: [OctommentsRenderer, "#comments-list"],
            debug: false,
            endpoints: {
                issue:
                    "https://middleengine-website-comments.vercel.app/octomments/issue",
                token:
                    "https://middleengine-website-comments.vercel.app/octomments/token",
            },
        }).init();
    </script>
    {{/if}}
</body>

</html>